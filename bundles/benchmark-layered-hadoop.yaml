machines:
  '0':
    constraints: 'arch=amd64 testbed=wall1 pubipv4=true'
    series: trusty
  '1':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '2':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '3':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '4':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '5':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '6':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '7':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '8':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '9':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '10':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '11':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '12':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '13':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '14':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '15':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '16':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '17':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
  '18':
    constraints: 'arch=amd64 testbed=wall1'
    series: trusty
services:
  namenode:
    charm: cs:trusty/apache-hadoop-hdfs-master
    num_units: 1
    to: lxc:1
  resourcemanager:
    charm: cs:trusty/apache-hadoop-yarn-master
    num_units: 1
    to: lxc:2
  slave:
    charm: cs:trusty/apache-hadoop-compute-slave
    num_units: 16
    to:
      - lxc:3
      - lxc:4
      - lxc:5
      - lxc:6
      - lxc:7
      - lxc:8
      - lxc:9
      - lxc:10
      - lxc:11
      - lxc:12
      - lxc:13
      - lxc:14
      - lxc:15
      - lxc:16
series: trusty
relations:
  - [namenode, slave]
  - [resourcemanager, slave]
  - [resourcemanager, namenode]
